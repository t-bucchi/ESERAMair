# ESERAMair

ESERAMair は MSX 界隈では有名な「**似非RAMディスク**」に WiFi 機能を持たせたものです。

似非RAMディスクの内容をWiFi経由で読み書きできるようになります。

具体的にできることを以下の通りです。

- PCからWiFi経由で以下の操作ができる
    - ROMイメージのアップロード、ダウンロード
    - 似非RAMディスク内のファイルを操作 (アップロード/ダウンロード/リネーム/削除)
    - 似非RAMディスクのフォーマット
- メガロムカートリッジのエミュレーション (ASCII 8k/16kバンク)
   - バッテリバックアップSRAMには対応していません
- ROMカートリッジのエミュレーション (64kB ROM)

ROMイメージの操作やファイル操作はMSXの電源が入ったままでも実施可能です。<br />
※ただし、競合してデータが壊れたり、暴走する可能性があるのでMSXでアクセス中にPCからの操作はしないほうが無難です

使い方としては以下のようなことが実現できます。

- カードリッジはMSXに挿したまま、PCからメガロムのゲームを差し替える
- MSXの電源を入れたまま、ESERAMairの .DSK イメージを差し替える
- MSX実機で作成したファイルをMSXの電源は入れたまま PC にバックアップする
- インターネットで公開されている .BAS ファイルを PC でダウンロードし、ESERAMairに転送して実行する
- ゲーム開発での実機確認のユースケースで、ビルドしたROMイメージをESERAMairへ自動デプロイ。MSXをリセットすれば即実行できる
- などなど・・


## 似非RAMディスクって何？

「似非RAMディスク」で検索すると大量に記事が出てくると思うので、簡単な紹介にとどめます。

似非RAMディスクは似非職人工房の辻川さんが発明された、メガロムコントローラを使ったRAMディスクです。

メガロムのゲームカートリッジを改造して、ROM の代わりに SRAM を搭載することでフロッピーディスクのようにファイルの読み書きをすることができます。

その後拡張され、似非SCC、似非SCSIなどの派生プロダクトがたくさん生まれました。

## ESERAMair の特徴

元祖の似非RAMディスクはフロッピーディスクのように読み書きできる、今で言えば USB メモリや SD カードのようなストレージカートリッジです。

その機能から、テープしか保存媒体のない FDD 非搭載機でこそ活躍するデバイスなのですが、
残念なことに似非RAMディスクをセットアップするには、以下の 2 つの理由によりFDDを搭載したMSX実機が必要になります。

1. DISKBIOS の吸い出しのためにFDD搭載機が必要 (ライセンスの問題からDISKBIOSは配布できないため)
2. MGINST.COM によるROM書き込みにDOS起動が必要

ESERAMair は上記2つの問題をクリアすることで、MSX1などのFDD非搭載機しか持っていない方でも似非RAMディスクを使えるようにしました。(ただしRAM64kB以上が必要です)

1. DISK BIOS の吸い出しのためFDD搭載機が必要<br />
→ Nextorを使うことでライセンス的に問題なくDISKを使用可能に
2. MGINST.COM によるROM書き込みにDOS起動が必要<br />
→ WiFiで外部からROMイメージを書き込むことでDOS不要に

FDD搭載機はヤフオクでも高価であり、しかもフロッピーディスクやドライブは生産終了してしまって新品を入手することも難しく、もはや一般的なデバイスではなくなってしまっています。

MSX1 など FDD のない機種しか持って無くても似非RAMディスクを使えるようにしたい！<br />
PC と MSX とでファイルのやり取りをもっと簡単にできるようにしたい！<br />
という思いから作ったのがこの ESERAMair です。
